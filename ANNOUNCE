Option -m and producer can now be forked.

For forked producers unbuffered returns the return value of the producer.
